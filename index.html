<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BAGHCHAL</title>
  <style>
  
    h1,p{
        text-align: center;
    }
    .container1{
        margin: 50px auto;
        padding:25px;
        font-size:25px;
        width:80%;
        border:1px solid black;
        border-radius:50px;
    }
    .container {
    width:100%;
    place-content: center;
      display: grid;
      grid-template-columns: repeat(5, 30px);
      grid-template-rows: repeat(5,30px);
      gap: 40px;
    }
.goat{
    width:60px;
    height:60px;
    font-size:50px;
}
    .box {
      width: 30px;
      height: 30px;
      display:flex;
      justify-content:center;
      align-items:center;
      font-size:30px;
      overflow:visible;
      text-align:center;
      position: relative;
      border-radius: 22px;
background: #e0e0e0;
box-shadow: inset 5px 5px 10px #a8a8a8,
            inset -5px -5px 10px #ffffff;
    }
   canvas {
    position: absolute;
    top:120px;
    left:50%;
    transform: translate(-50%,0);
    display: block;
}
     
  </style>
</head>
<body>
    <h1>BAGHCHAL</h1>
    <p id="p">Goat Player Turn remaining 20</p>
    <canvas id="canvas" width="300" height="300"></canvas>
  <div class="container" id='content'>
 
  </div>
<div class="container1">
  <details>
    <summary>About Baghchal</summary>
    Baghchal Game: Baghchal game also known as Bagchal game is one of the anicient board game played in Nepal and some parts of India as well. Baghchal game consists of 4 tigers and 20 goats. It is also known as Tiger and Goat game. Both Tiger and Goat move through the straight line of Bagchal board. The difference is Tiger can jump Goats if there is empty place following the goat on a straight line. Tiger wins by eating atleast 9 Goats by jumping and Goats win by trapping all four Tigers. Baghchal game can be played online with this website.
Winning Condition for Tiger:

When atleast 9 Goats are Killed.
Winning Condition for Tiger:

When all four Tigers are Trapped. Bagh-Chal (Nepali: बाघ चाल bāgh cāl, Newari:धुँ कासा dhun kasa meaning "Tiger game", ) is a strategic, two-player board game that originates in Nepal. The game is believed to have been created by Mandhodari, wife of Ravan. Books cite that Mandhodari was highly intelligent and played this game while being alone in her palace in Lanka. The game is asymmetric in that one player controls four tigers and the other player controls up to twenty goats. The tigers 'hunt' the goats while the goats attempt to block the tigers' movements. This game is also seen in southern India with different board but the rules are same. The game is played on a five by five point grid, like alquerque (an ancestor of draughts or checkers). Pieces are positioned at the intersection of the lines and not inside the areas delimited by them. Directions of valid movement between these points are connected by lines. The game play takes place in two phases. In the first phase the goats are placed on the board while the tigers are moved. In the second phase both the goats and the tigers are moved. For the tigers, the objective is to "capture" five goats to win. Capturing is performed as in alquerque and draughts, by jumping over the goats, although capturing is not obligatory. The goats win by blocking all the tigers' legal moves. It has many similarities to the Indian game Aadu puli attam (goat-tiger game), though the board is different. - Reference Wikipedia.org
  </details>
</div>
  <script>
      var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');

        // Horizontal Line
        ctx.beginPath();
        ctx.moveTo(0, 10);
        ctx.lineTo(300, 10);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(0, 150);
        ctx.lineTo(300, 150);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(0, 80);
        ctx.lineTo(300, 80);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(0, 220);
        ctx.lineTo(300, 220);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(0, 290);
        ctx.lineTo(300, 290);
        ctx.stroke();
        
        // Vertical Line
        ctx.beginPath();
        ctx.moveTo(150, 0);
        ctx.lineTo(150, 300);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(10, 0);
        ctx.lineTo(10, 300);
        ctx.stroke();

        ctx.beginPath();
        ctx.moveTo(80, 0);
        ctx.lineTo(80, 300);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(220, 0);
        ctx.lineTo(220, 300);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(290, 0);
        ctx.lineTo(290, 300);
        ctx.stroke();
        
        // Diagonal Line
        ctx.beginPath();
        ctx.moveTo(0, 0);
        ctx.lineTo(300, 300);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(140, 0);
        ctx.lineTo(300, 160);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(0, 140);
        ctx.lineTo(160, 300);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(300, 0);
        ctx.lineTo(0, 300);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(300, 140);
        ctx.lineTo(140, 300);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(160, 0);
        ctx.lineTo(0, 160);
        ctx.stroke();
    const board=[
        ['1','0','0','0','1'],
        ['0','0','0','0','0'],
        ['0','0','0','0','0'],
        ['0','0','0','0','0'],
        ['1','0','0','0','1']
    ];
    var flag=1,clicked,selected,goat=1,isclicked=0,k,l,row,column,row_,col,n,p,col_,row__,index;
    var arr=Array(8)
    var div=Array(5);
    for (let i = 0; i < 5; i++) {
    div[i] = Array(5);
    for (let j = 0; j < 5; j++) {
        div[i][j] = document.createElement('div');
        div[i][j].setAttribute('id',i+''+j);
        div[i][j].setAttribute('row',i);
        div[i][j].setAttribute('column',j);
        div[i][j].setAttribute('class', 'box');
        div[i][j].setAttribute('content', parseInt(board[i][j]));
        
        if (parseInt(board[i][j]) === 1) {
            div[i][j].innerHTML = "&#128047";
        }
        if (parseInt(board[i][j]) === 2) {
            div[i][j].innerHTML = "&#128016";
        }
        div[i][j].addEventListener('click', (function(x, y) {
        
            return function(e) {
            if(flag===1){
                
            clicked = e.target;
            if((clicked.getAttribute('content'))=='1'){
                   
            } 
            else{
                
             if(goat<=20){
                 if(clicked.getAttribute('content')=='0'){ 
                    document.getElementById('p').innerHTML='Tiger Player turn';
                    clicked.setAttribute('content', '2');
                    board[x][y]='2';
                    console.log(board);
                    clicked.innerHTML = '&#128016';
                    goat++;
                    flag=0;
                }
             }
             else{
             
                    if(isclicked==1){
                    if((clicked.getAttribute('content'))=='2'){
                 selected.style='scale:1';
               selected=clicked;
                   selected.style='scale:2';
                   isclicked=1;
                   k=x;
                   l=y;
                }
                        else if(clicked.getAttribute('content')=='0'){
                        selected.style='scale:1';
                        document.getElementById('p').innerHTML='Tiger Player turn';
                        isclicked=0;
                        clicked.innerHTML=selected.innerHTML;
                        clicked.setAttribute('content','2');                       
                        selected.setAttribute('content','0');
                        selected.innerHTML='';
                        board[x][y]='2';
                        board[k][l]='0';
                        console.log(board);
                        flag=0;
                    }
                    }
                    else{
                        if((clicked.getAttribute('content'))=='2'){
                           selected=clicked;
                           selected.style='scale:2';
                           isclicked=1;
                           k=x;
                           l=y;
                         }
                    }
                }
                
                }
            }
        

       else{
           
                clicked = e.target;
              if(isclicked==1){
                 if((clicked.getAttribute('content'))=='1'){
                 selected.style='scale:1';
                   selected=clicked;
                   
                   selected.style='scale:2';
                   isclicked=1;
                   k=x;
                   l=y;
           
                }else if(clicked.getAttribute('content')=='2'){
                 clicked.innerHTML=selected.innerHTML;
                  isclicked=0;
                  clicked.setAttribute('content','1');
                  board[x][y]='1';
                  selected.style='scale:1';
                  selected.setAttribute('content','0');
                  selected.innerHTML="";
                  board[k][l]='0';
                  console.log(board);
                  flag=0;
                  
                  }
                  else{
                 
                 document.getElementById('p').innerHTML="Goat player turn remaining "+(21-parseInt(goat));
                
             
                  selected.style='scale:1';
                      clicked.innerHTML=selected.innerHTML;
                  isclicked=0;
                  clicked.setAttribute('content','1');
                  board[x][y]=1;
                  selected.setAttribute('content','0');
                  selected.innerHTML="";
                  board[k][l]='0';
                  console.log(board);
                  flag=1;
                  }
                  }
                  
                  
              else{
               
               if((clicked.getAttribute('content'))=='1'){
                   selected=clicked;
                   selected.style='scale:2';
                   isclicked=1;
                   k=x;
                   l=y;
             } else{
             
               
                }
                
                }
            };
            }
        })(i, j));
         document.getElementById('content').appendChild(div[i][j]);
    }
}
    console.log(board);
  </script>
</body>
</html>
